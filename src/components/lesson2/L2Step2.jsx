function L2Step2() {
  const addTodoCode = [
    'next_id = 1',
    '',
    '@app.route(\'/api/todos\', methods=[\'POST\'])',
    'def add_todo():',
    '    global next_id',
    '    data = request.json',
    '    text = data.get(\'text\', \'\').strip()',
    '    if not text:',
    '        return jsonify({\'success\': False, \'error\': \'empty\'}), 400',
    '    todo = {\'id\': next_id, \'text\': text, \'done\': False}',
    '    todos.append(todo)',
    '    next_id += 1',
    '    return jsonify({\'success\': True, \'todo\': todo})'
  ].join('\n')

  const toggleDeleteCode = [
    '@app.route(\'/api/todos/<int:id>/toggle\', methods=[\'POST\'])',
    'def toggle_todo(id):',
    '    for t in todos:',
    '        if t[\'id\'] == id:',
    '            t[\'done\'] = not t[\'done\']',
    '            return jsonify({\'success\': True, \'todo\': t})',
    '    return jsonify({\'success\': False}), 404',
    '',
    '@app.route(\'/api/todos/<int:id>\', methods=[\'DELETE\'])',
    'def delete_todo(id):',
    '    global todos',
    '    todos = [t for t in todos if t[\'id\'] != id]',
    '    return jsonify({\'success\': True})'
  ].join('\n')

  return (
    <div className="step-content trainer-step">
      <h2>–®–∞–≥ 2: –î–∞–Ω–Ω—ã–µ –∏ –ø—Ä–æ—Å—Ç—ã–µ API</h2>

      <div className="info-box trainer-definition">
        <strong>üí° –ó–∞—á–µ–º –Ω—É–∂–Ω—ã —Ä–∞–∑–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã (API)?</strong>
        <p style={{marginTop: '10px'}}>
          –ü—Ä–µ–¥—Å—Ç–∞–≤—å, —á—Ç–æ —É —Ç–µ–±—è –µ—Å—Ç—å –±–ª–æ–∫–Ω–æ—Ç —Å–æ —Å–ø–∏—Å–∫–æ–º –¥–µ–ª. –¢—ã –º–æ–∂–µ—à—å –¥–µ–ª–∞—Ç—å —Å –Ω–∏–º —Ä–∞–∑–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:
        </p>
        <ul style={{marginTop: '10px'}}>
          <li><strong>–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–ø–∏—Å–æ–∫</strong> ‚Äî —ç—Ç–æ –∫–∞–∫ GET –∑–∞–ø—Ä–æ—Å –∫ <code>/api/todos</code></li>
          <li><strong>–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ –¥–µ–ª–æ</strong> ‚Äî —ç—Ç–æ –∫–∞–∫ POST –∑–∞–ø—Ä–æ—Å –∫ <code>/api/todos</code></li>
          <li><strong>–û—Ç–º–µ—Ç–∏—Ç—å –¥–µ–ª–æ –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–µ</strong> ‚Äî —ç—Ç–æ –∫–∞–∫ POST –∑–∞–ø—Ä–æ—Å –∫ <code>/api/todos/1/toggle</code></li>
          <li><strong>–£–¥–∞–ª–∏—Ç—å –¥–µ–ª–æ</strong> ‚Äî —ç—Ç–æ –∫–∞–∫ DELETE –∑–∞–ø—Ä–æ—Å –∫ <code>/api/todos/1</code></li>
        </ul>
        <p style={{marginTop: '10px'}}>
          –ö–∞–∂–¥–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –∏–º–µ–µ—Ç —Å–≤–æ–π "–∞–¥—Ä–µ—Å" (–º–∞—Ä—à—Ä—É—Ç) –∏ —Å–≤–æ–π "—Å–ø–æ—Å–æ–±" (–º–µ—Ç–æ–¥: GET, POST, DELETE). 
          –≠—Ç–æ –∫–∞–∫ —Ä–∞–∑–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ –Ω–∞ –ø—É–ª—å—Ç–µ: –∫–∞–∂–¥–∞—è –∫–Ω–æ–ø–∫–∞ –¥–µ–ª–∞–µ—Ç —Å–≤–æ—ë –¥–µ–π—Å—Ç–≤–∏–µ!
        </p>
      </div>

      <p>–¢–µ–ø–µ—Ä—å –¥–æ–±–∞–≤–∏–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–ª—è –∑–∞–¥–∞—á. –ö–∞–∂–¥–∞—è –∑–∞–¥–∞—á–∞ ‚Äî —ç—Ç–æ –º–∞–ª–µ–Ω—å–∫–∏–π —Å–ª–æ–≤–∞—Ä–∏–∫ —Å —Ç—Ä–µ–º—è –ø–æ–ª—è–º–∏:</p>

      <div className="info-box trainer-definition">
        <strong>üìù –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–µ–ª–∞:</strong>
        <pre style={{ margin: 0 }}>{'{ "id": 1, "text": "–ö—É–ø–∏—Ç—å –º–æ–ª–æ–∫–æ", "done": false }'}</pre>
        <p style={{marginTop: '10px'}}>
          <strong>id</strong> ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –Ω–æ–º–µ—Ä –¥–µ–ª–∞ (–∫–∞–∫ –Ω–æ–º–µ—Ä –≤ —Å–ø–∏—Å–∫–µ)<br/>
          <strong>text</strong> ‚Äî —Ç–µ–∫—Å—Ç –¥–µ–ª–∞ (—á—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å)<br/>
          <strong>done</strong> ‚Äî –≤—ã–ø–æ–ª–Ω–µ–Ω–æ –ª–∏ –¥–µ–ª–æ (true = –¥–∞, false = –Ω–µ—Ç)
        </p>
      </div>

      <h3>–ö–æ–¥: —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ ‚Äî –≤—Å—Ç–∞–≤—å –≤ <code>app.py</code></h3>
      <div className="code-block">
        <code>{addTodoCode}</code>
      </div>

      <h3>üîç –†–∞–∑–±–µ—Ä—ë–º –∫–æ–¥ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥–µ–ª–∞:</h3>
      <ul>
        <li><code>next_id = 1</code> ‚Äî —Å—á—ë—Ç—á–∏–∫ –¥–ª—è –Ω–æ–º–µ—Ä–æ–≤ –¥–µ–ª. –ö–∞–∂–¥–æ–µ –Ω–æ–≤–æ–µ –¥–µ–ª–æ –ø–æ–ª—É—á–∏—Ç —Å–≤–æ–π —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –Ω–æ–º–µ—Ä (1, 2, 3...).</li>
        <li><code>@app.route('/api/todos', methods=['POST'])</code> ‚Äî —Å–æ–∑–¥–∞—ë–º –º–∞—Ä—à—Ä—É—Ç –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è. <code>POST</code> –æ–∑–Ω–∞—á–∞–µ—Ç "—Å–æ–∑–¥–∞—Ç—å —á—Ç–æ-—Ç–æ –Ω–æ–≤–æ–µ".</li>
        <li><code>data = request.json</code> ‚Äî –ø–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –±—Ä–∞—É–∑–µ—Ä –æ—Ç–ø—Ä–∞–≤–∏–ª. –≠—Ç–æ –∫–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –∑–∞–ø–∏—Å–∫—É —Å —Ç–µ–∫—Å—Ç–æ–º –¥–µ–ª–∞.</li>
        <li><code>text = data.get('text', '').strip()</code> ‚Äî –±–µ—Ä—ë–º —Ç–µ–∫—Å—Ç –∏–∑ –¥–∞–Ω–Ω—ã—Ö –∏ —É–±–∏—Ä–∞–µ–º –ª–∏—à–Ω–∏–µ –ø—Ä–æ–±–µ–ª—ã –ø–æ –∫—Ä–∞—è–º.</li>
        <li><code>if not text:</code> ‚Äî –ø—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –ø—É—Å—Ç–æ–π –ª–∏ —Ç–µ–∫—Å—Ç. –ï—Å–ª–∏ –ø—É—Å—Ç–æ–π ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –æ—à–∏–±–∫—É 400 (—ç—Ç–æ –∑–Ω–∞—á–∏—Ç "–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å").</li>
        <li><code>todo =</code> —Å –ø–æ–ª—è–º–∏ <code>'id': next_id, 'text': text, 'done': False</code> ‚Äî —Å–æ–∑–¥–∞—ë–º –Ω–æ–≤–æ–µ –¥–µ–ª–æ —Å–æ –≤—Å–µ–º–∏ –ø–æ–ª—è–º–∏. <code>done: False</code> –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –¥–µ–ª–æ –µ—â—ë –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ.</li>
        <li><code>todos.append(todo)</code> ‚Äî –¥–æ–±–∞–≤–ª—è–µ–º –¥–µ–ª–æ –≤ –Ω–∞—à —Å–ø–∏—Å–æ–∫.</li>
        <li><code>next_id += 1</code> ‚Äî —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á—ë—Ç—á–∏–∫, —á—Ç–æ–±—ã —Å–ª–µ–¥—É—é—â–µ–µ –¥–µ–ª–æ –ø–æ–ª—É—á–∏–ª–æ –¥—Ä—É–≥–æ–π –Ω–æ–º–µ—Ä.</li>
        <li><code>return jsonify</code> —Å <code>'success': True, 'todo': todo</code> ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –æ—Ç–≤–µ—Ç: "–í—Å—ë —Ö–æ—Ä–æ—à–æ, –¥–µ–ª–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ!"</li>
      </ul>

      <h3>Toggle –∏ —É–¥–∞–ª–µ–Ω–∏–µ ‚Äî –∫–æ–¥ –¥–ª—è <code>app.py</code></h3>
      <div className="code-block">
        <code>{toggleDeleteCode}</code>
      </div>

      <h3>üîç –†–∞–∑–±–µ—Ä—ë–º –∫–æ–¥ –æ—Ç–º–µ—Ç–∫–∏ –∏ —É–¥–∞–ª–µ–Ω–∏—è:</h3>
      <ul>
        <li><code>@app.route('/api/todos/&lt;int:id&gt;/toggle', methods=['POST'])</code> ‚Äî –º–∞—Ä—à—Ä—É—Ç –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ –¥–µ–ª–∞. <code>&lt;int:id&gt;</code> –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –≤ URL –±—É–¥–µ—Ç –Ω–æ–º–µ—Ä –¥–µ–ª–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, <code>/api/todos/1/toggle</code>).</li>
        <li><code>for t in todos:</code> ‚Äî –∏—â–µ–º –¥–µ–ª–æ —Å –Ω—É–∂–Ω—ã–º –Ω–æ–º–µ—Ä–æ–º –≤ —Å–ø–∏—Å–∫–µ.</li>
        <li><code>t['done'] = not t['done']</code> ‚Äî –º–µ–Ω—è–µ–º —Å—Ç–∞—Ç—É—Å –Ω–∞ –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω—ã–π (–µ—Å–ª–∏ –±—ã–ª–æ False, —Å—Ç–∞–Ω–µ—Ç True, –∏ –Ω–∞–æ–±–æ—Ä–æ—Ç).</li>
        <li><code>@app.route('/api/todos/&lt;int:id&gt;', methods=['DELETE'])</code> ‚Äî –º–∞—Ä—à—Ä—É—Ç –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è. <code>DELETE</code> –æ–∑–Ω–∞—á–∞–µ—Ç "—É–¥–∞–ª–∏—Ç—å —á—Ç–æ-—Ç–æ".</li>
        <li><code>todos = [t for t in todos if t['id'] != id]</code> ‚Äî —Å–æ–∑–¥–∞—ë–º –Ω–æ–≤—ã–π —Å–ø–∏—Å–æ–∫ –±–µ–∑ —É–¥–∞–ª—ë–Ω–Ω–æ–≥–æ –¥–µ–ª–∞. –≠—Ç–æ –∫–∞–∫ –≤—ã–∫–∏–Ω—É—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏–∑ –±–ª–æ–∫–Ω–æ—Ç–∞.</li>
      </ul>

      <div className="info-box" style={{marginTop: '20px'}}>
        <strong>üéØ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–º–µ—Å—Ç–µ:</strong>
        <ol style={{marginTop: '10px'}}>
          <li>–ë—Ä–∞—É–∑–µ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π –∞–¥—Ä–µ—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä, <code>/api/todos</code>)</li>
          <li>–°–µ—Ä–≤–µ—Ä —Å–º–æ—Ç—Ä–∏—Ç, –∫–∞–∫–æ–π —ç—Ç–æ –º–µ—Ç–æ–¥ (GET, POST, DELETE) –∏ –∫–∞–∫–æ–π –∞–¥—Ä–µ—Å</li>
          <li>–°–µ—Ä–≤–µ—Ä –Ω–∞—Ö–æ–¥–∏—Ç –Ω—É–∂–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –µ—ë</li>
          <li>–§—É–Ω–∫—Ü–∏—è –¥–µ–ª–∞–µ—Ç –Ω—É–∂–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ (–¥–æ–±–∞–≤–ª—è–µ—Ç, —É–¥–∞–ª—è–µ—Ç, –º–µ–Ω—è–µ—Ç —Å—Ç–∞—Ç—É—Å)</li>
          <li>–°–µ—Ä–≤–µ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ—Ç–≤–µ—Ç –æ–±—Ä–∞—Ç–Ω–æ –≤ –±—Ä–∞—É–∑–µ—Ä</li>
        </ol>
      </div>

      <div className="success-box">
        <strong>‚úÖ –ü—Ä–æ–≤–µ—Ä—å:</strong> 
        <ol style={{marginTop: '10px'}}>
          <li>–ó–∞–ø—É—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä: <code>python app.py</code></li>
          <li>–û—Ç–∫—Ä–æ–π <code>http://localhost:5001/api/todos</code> ‚Äî –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫</li>
          <li>–ü–æ–ø—Ä–æ–±—É–π –¥–æ–±–∞–≤–∏—Ç—å –¥–µ–ª–æ —á–µ—Ä–µ–∑ curl –∏–ª–∏ Postman –∏ –ø–æ—Å–º–æ—Ç—Ä–∏, —á—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç GET /api/todos</li>
        </ol>
      </div>
    </div>
  )
}

export default L2Step2
