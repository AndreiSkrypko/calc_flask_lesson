function L2Step9() {
  const code = [
    '// static/app.js (—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π)',
    'async function api(path, options = {}) {',
    "  const res = await fetch(path, {",
    "    headers: { 'Content-Type': 'application/json' },",
    '    ...options',
    '  })',
    '  // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ–¥ –æ—Ç–≤–µ—Ç–∞',
    '  if (!res.ok) {',
    "    const err = await res.json().catch(() => ({}))",
    '    throw err',
    '  }',
    '  return await res.json()',
    '}',
    '',
    'async function loadTodos() {',
    "  const data = await api('/api/todos')",
    "  const ul = document.getElementById('todosList')",
    "  ul.innerHTML = ''",
    '  data.todos.forEach(t => {',
    "    const li = document.createElement('li')",
    "    li.textContent = t.text",
    '    // –ö–Ω–æ–ø–∫–∏ —Ä—è–¥–æ–º —Å –∫–∞–∂–¥–æ–π –∑–∞–¥–∞—á–µ–π',
    "    const doneBtn = document.createElement('button')",
    "    doneBtn.textContent = t.done ? '–û—Ç–º–µ–Ω–∏—Ç—å' : '–ì–æ—Ç–æ–≤–æ'",
    "    doneBtn.onclick = async () => { await api(`/api/todos/${t.id}/toggle`, { method: 'POST' }); loadTodos() }",
    "    const delBtn = document.createElement('button')",
    "    delBtn.textContent = '–£–¥–∞–ª–∏—Ç—å'",
    "    delBtn.onclick = async () => { await api(`/api/todos/${t.id}`, { method: 'DELETE' }); loadTodos() }",
    '    li.appendChild(doneBtn)',
    '    li.appendChild(delBtn)',
    "    if (t.done) li.style.textDecoration = 'line-through'",
    '    ul.appendChild(li)',
    '  })',
    '}',
    '',
    "document.getElementById('addBtn').addEventListener('click', async () => {",
    "  const text = document.getElementById('newText').value",
    "  await api('/api/todos', { method: 'POST', body: JSON.stringify({ text }) })",
    "  document.getElementById('newText').value = ''",
    '  loadTodos()',
    '})',
    '',
    "document.addEventListener('DOMContentLoaded', loadTodos)"
  ].join('\n')

  return (
    <div className="step-content trainer-step">
      <h2>–®–∞–≥ 9: –ü–æ–¥—Ä–æ–±–Ω–æ –ø—Ä–æ JavaScript ‚Äî POST, DELETE, toggle</h2>

      <div className="info-box trainer-definition">
        <strong>üí° –ó–∞—á–µ–º –Ω—É–∂–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è api()?</strong>
        <p style={{marginTop: '10px'}}>
          –ü—Ä–µ–¥—Å—Ç–∞–≤—å, —á—Ç–æ —Ç–µ–±–µ –Ω—É–∂–Ω–æ –º–Ω–æ–≥–æ —Ä–∞–∑ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä. –ö–∞–∂–¥—ã–π —Ä–∞–∑ –ø–∏—Å–∞—Ç—å –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ:
          –∑–∞–≥–æ–ª–æ–≤–∫–∏, –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫, –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ JSON ‚Äî —ç—Ç–æ —Å–∫—É—á–Ω–æ –∏ –º–æ–∂–Ω–æ –æ—à–∏–±–∏—Ç—å—Å—è!
        </p>
        <p style={{marginTop: '10px'}}>
          –§—É–Ω–∫—Ü–∏—è <code>api()</code> ‚Äî —ç—Ç–æ –∫–∞–∫ –ø–æ–º–æ—â–Ω–∏–∫, –∫–æ—Ç–æ—Ä—ã–π –¥–µ–ª–∞–µ—Ç –≤—Å—é —Ä—É—Ç–∏–Ω–Ω—É—é —Ä–∞–±–æ—Ç—É –∑–∞ —Ç–µ–±—è. 
          –¢—ã –ø—Ä–æ—Å—Ç–æ –≥–æ–≤–æ—Ä–∏—à—å: "–û—Ç–ø—Ä–∞–≤—å POST –∑–∞–ø—Ä–æ—Å –Ω–∞ /api/todos —Å –¥–∞–Ω–Ω—ã–º–∏" (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–µ–∫—Å—Ç "–ö—É–ø–∏—Ç—å –º–æ–ª–æ–∫–æ"), 
          –∞ —Ñ—É–Ω–∫—Ü–∏—è —Å–∞–º–∞ –¥–æ–±–∞–≤–ª—è–µ—Ç –Ω—É–∂–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç.
        </p>
      </div>

      <p>–†–∞–∑–±–µ—Ä—ë–º –∫–æ–¥ –∫–ª–∏–µ–Ω—Ç–∞, —á—Ç–æ–±—ã —Ç—ã –ø–æ–Ω—è–ª, –∫–∞–∫ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—Ç–≤–µ—Ç—ã.</p>

      <div className="code-block">
        <code>{code}</code>
      </div>

      <h3>üîç –û–±—ä—è—Å–Ω–µ–Ω–∏–µ –¥–ª—è —Ç–µ–±—è</h3>
      <ul>
        <li><code>async function api(path, options = {})</code> ‚Äî —Å–æ–∑–¥–∞—ë–º —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤. <code>path</code> ‚Äî —ç—Ç–æ –∞–¥—Ä–µ—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä, '/api/todos'), <code>options</code> ‚Äî –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–º–µ—Ç–æ–¥, –¥–∞–Ω–Ω—ã–µ –∏ —Ç.–¥.).</li>
        <li><code>headers</code> —Å <code>'Content-Type': 'application/json'</code> ‚Äî –≤—Å–µ–≥–¥–∞ –≥–æ–≤–æ—Ä–∏–º —Å–µ—Ä–≤–µ—Ä—É, —á—Ç–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º JSON. –≠—Ç–æ –∫–∞–∫ –Ω–∞–ø–∏—Å–∞—Ç—å –Ω–∞ –∫–æ–Ω–≤–µ—Ä—Ç–µ "–í–Ω—É—Ç—Ä–∏ –ø–∏—Å—å–º–æ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ".</li>
        <li><code>if (!res.ok)</code> ‚Äî –ø—Ä–æ–≤–µ—Ä—è–µ–º, —É—Å–ø–µ—à–µ–Ω –ª–∏ –∑–∞–ø—Ä–æ—Å. –ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –≤–µ—Ä–Ω—É–ª –æ—à–∏–±–∫—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, 404 –∏–ª–∏ 400), <code>res.ok</code> –±—É–¥–µ—Ç <code>false</code>.</li>
        <li><code>throw err</code> ‚Äî –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ–º –æ—à–∏–±–∫—É, —á—Ç–æ–±—ã –µ—ë –º–æ–∂–Ω–æ –±—ã–ª–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –≤—ã—à–µ (–≤ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–∑–≤–∞–ª–∞ <code>api()</code>).</li>
        <li><code>return await res.json()</code> ‚Äî –ø—Ä–µ–≤—Ä–∞—â–∞–µ–º –æ—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞ –≤ –æ–±—ä–µ–∫—Ç JavaScript –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –µ–≥–æ.</li>
        <li><strong>–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤—ã–∑—ã–≤–∞–µ–º <code>loadTodos()</code></strong> ‚Äî —ç—Ç–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å–ø–∏—Å–æ–∫ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ, —á—Ç–æ–±—ã –æ–Ω –≤—Å–µ–≥–¥–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞–ª —Ç–æ–º—É, —á—Ç–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ. –≠—Ç–æ –∫–∞–∫ –ø–µ—Ä–µ—á–∏—Ç–∞—Ç—å —Å–ø–∏—Å–æ–∫ –¥–µ–ª, —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å—ë –∞–∫—Ç—É–∞–ª—å–Ω–æ.</li>
        <li><strong>–ö–Ω–æ–ø–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç POST/DELETE –∑–∞–ø—Ä–æ—Å—ã</strong> ‚Äî –∫ —Ç–µ–º –º–∞—Ä—à—Ä—É—Ç–∞–º, –∫–æ—Ç–æ—Ä—ã–µ —Ç—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–ª –≤ <code>app.py</code>. –°–µ—Ä–≤–µ—Ä –ø–æ–ª—É—á–∞–µ—Ç –∑–∞–ø—Ä–æ—Å, –≤—ã–ø–æ–ª–Ω—è–µ—Ç –Ω—É–∂–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ (–¥–æ–±–∞–≤–ª—è–µ—Ç, —É–¥–∞–ª—è–µ—Ç, –º–µ–Ω—è–µ—Ç —Å—Ç–∞—Ç—É—Å) –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ—Ç–≤–µ—Ç –æ–±—Ä–∞—Ç–Ω–æ.</li>
      </ul>
      <div className="info-box" style={{marginTop: '20px'}}>
        <strong>üéØ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–º–µ—Å—Ç–µ:</strong>
        <ol style={{marginTop: '10px'}}>
          <li>–¢—ã –Ω–∞–∂–∏–º–∞–µ—à—å –∫–Ω–æ–ø–∫—É "–ì–æ—Ç–æ–≤–æ" –∏–ª–∏ "–£–¥–∞–ª–∏—Ç—å" —Ä—è–¥–æ–º —Å –¥–µ–ª–æ–º</li>
          <li>JavaScript "–ª–æ–≤–∏—Ç" —ç—Ç–æ –Ω–∞–∂–∞—Ç–∏–µ</li>
          <li>JavaScript –≤—ã–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é <code>api()</code> —Å –Ω—É–∂–Ω—ã–º –∞–¥—Ä–µ—Å–æ–º –∏ –º–µ—Ç–æ–¥–æ–º</li>
          <li>–§—É–Ω–∫—Ü–∏—è <code>api()</code> –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–µ—Ä–≤–µ—Ä —á–µ—Ä–µ–∑ <code>fetch</code></li>
          <li>–°–µ—Ä–≤–µ—Ä –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å (–º–µ–Ω—è–µ—Ç —Å—Ç–∞—Ç—É—Å –∏–ª–∏ —É–¥–∞–ª—è–µ—Ç –¥–µ–ª–æ)</li>
          <li>–°–µ—Ä–≤–µ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ—Ç–≤–µ—Ç –æ–±—Ä–∞—Ç–Ω–æ</li>
          <li>JavaScript –ø–æ–ª—É—á–∞–µ—Ç –æ—Ç–≤–µ—Ç –∏ –≤—ã–∑—ã–≤–∞–µ—Ç <code>loadTodos()</code></li>
          <li>–°–ø–∏—Å–æ–∫ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è ‚Äî —Ç—ã –≤–∏–¥–∏—à—å –∏–∑–º–µ–Ω–µ–Ω–∏—è!</li>
        </ol>
      </div>

      <div className="success-box">
        <strong>‚úÖ –ü—Ä–æ–≤–µ—Ä—å:</strong> –¥–æ–±–∞–≤—å, –æ—Ç–º–µ—Ç—å –∏ —É–¥–∞–ª–∏ –∑–∞–¥–∞—á—É ‚Äî –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–æ–ª–∂–µ–Ω —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –±—ã—Å—Ç—Ä–æ –∏ –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.
      </div>
    </div>
  )
}

export default L2Step9

